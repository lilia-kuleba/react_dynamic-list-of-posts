(this["webpackJsonpreact_dynamic-list-of-posts"]=this["webpackJsonpreact_dynamic-list-of-posts"]||[]).push([[0],[,,,,,,,,,function(e,t,n){},function(e,t,n){},function(e,t,n){},,function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var c=n(4),s=n.n(c),o=n(2),i=n(1),a=(n(9),n(10),n(11),n(0)),r=function(e){var t=e.posts,n=e.loadPost,c=e.selectedPostId,s=void 0===c?0:c;return Object(a.jsxs)("div",{className:"PostsList",children:[Object(a.jsx)("h2",{children:"Posts:"}),Object(a.jsx)("ul",{className:"PostsList__list",children:t.map((function(e){return Object(a.jsxs)("li",{className:"PostsList__item",children:[Object(a.jsxs)("div",{children:[Object(a.jsx)("b",{children:"[User #".concat(e.userId,"]: ")}),e.title]}),Object(a.jsx)("button",{onClick:function(){return n(e.id)},type:"button",className:"PostsList__button button",children:s===e.id?"Close":"Open"})]},e.id)}))})]})},l=(n(13),"https://mate.academy/students-api");var u=function(e){var t=e.postId,n=Object(i.useState)(""),c=Object(o.a)(n,2),s=c[0],r=c[1],u=Object(i.useState)(""),j=Object(o.a)(u,2),d=j[0],b=j[1],m=Object(i.useState)(""),h=Object(o.a)(m,2),p=h[0],O=h[1];return Object(i.useEffect)((function(){r(""),b(""),O("")}),[t]),Object(a.jsxs)("form",{onSubmit:function(e){var n;e.preventDefault(),n={name:s,email:d,body:p,postId:t},fetch("".concat(l,"/comments"),{method:"POST",headers:{"Content-type":"application/json; charset=UTF-8"},body:JSON.stringify(n)}).then((function(e){return e.json()})),r(""),b(""),O("")},className:"NewCommentForm",children:[Object(a.jsx)("div",{className:"form-field",children:Object(a.jsx)("input",{value:s,onChange:function(e){return r(e.target.value)},type:"text",name:"name",placeholder:"Your name",className:"NewCommentForm__input",required:!0})}),Object(a.jsx)("div",{className:"form-field",children:Object(a.jsx)("input",{value:d,onChange:function(e){return b(e.target.value)},type:"email",name:"email",placeholder:"Your email",className:"NewCommentForm__input",required:!0})}),Object(a.jsx)("div",{className:"form-field",children:Object(a.jsx)("textarea",{value:p,onChange:function(e){return O(e.target.value)},name:"body",placeholder:"Type comment here",className:"NewCommentForm__input",required:!0})}),Object(a.jsx)("button",{type:"submit",className:"NewCommentForm__submit-button button",children:"Add a comment"})]})},j=(n(14),function(e){var t=e.post,n=Object(i.useState)([]),c=Object(o.a)(n,2),s=c[0],r=c[1],j=Object(i.useState)(!0),d=Object(o.a)(j,2),b=d[0],m=d[1];return Object(i.useEffect)((function(){var e;(e=t.id,fetch("".concat(l,"/comments?postId=").concat(e)).then((function(e){return e.json()})).then((function(e){return e}))).then((function(e){return r(e)}))}),[s]),Object(a.jsxs)("div",{className:"PostDetails",children:[Object(a.jsx)("h2",{children:"Post details:"}),Object(a.jsx)("section",{className:"PostDetails__post",children:Object(a.jsx)("p",{children:t.body})}),Object(a.jsxs)("section",{className:"PostDetails__comments",children:[Object(a.jsx)("button",{onClick:function(){return m(!b)},type:"button",className:"button",children:"Hide ".concat(s.length," comments")}),b&&Object(a.jsx)("ul",{className:"PostDetails__list",children:s.map((function(e){return Object(a.jsxs)("li",{className:"PostDetails__list-item",children:[Object(a.jsx)("button",{onClick:function(){return t=e.id,fetch("".concat(l,"/comments/").concat(t),{method:"DELETE"}).then((function(e){return e.json()}));var t},type:"button",className:"PostDetails__remove-button button",children:"X"}),Object(a.jsx)("p",{children:e.body})]},e.id)}))})]}),Object(a.jsx)("section",{children:Object(a.jsx)("div",{className:"PostDetails__form-wrapper",children:Object(a.jsx)(u,{postId:t.id})})})]})});var d=function(){var e={id:0,title:"",userId:0,body:""},t=Object(i.useState)([]),n=Object(o.a)(t,2),c=n[0],s=n[1],u=Object(i.useState)(e),d=Object(o.a)(u,2),b=d[0],m=d[1],h=function(e){(function(e){return fetch("".concat(l,"/posts").concat(e?"?userId=".concat(e):"")).then((function(e){return e.json()})).then((function(e){return e}))})(e).then((function(e){return s(e)}))};return Object(i.useEffect)((function(){h(0)}),[]),Object(a.jsxs)("div",{className:"App",children:[Object(a.jsx)("header",{className:"App__header",children:Object(a.jsxs)("label",{htmlFor:"select",children:["Select a user: \xa0",Object(a.jsxs)("select",{name:"select",onChange:function(e){return h(+e.target.value)},className:"App__user-selector",children:[Object(a.jsx)("option",{value:"0",children:"All users"}),Object(a.jsx)("option",{value:"1",children:"Leanne Graham"}),Object(a.jsx)("option",{value:"2",children:"Ervin Howell"}),Object(a.jsx)("option",{value:"3",children:"Clementine Bauch"}),Object(a.jsx)("option",{value:"4",children:"Patricia Lebsack"}),Object(a.jsx)("option",{value:"5",children:"Chelsey Dietrich"}),Object(a.jsx)("option",{value:"6",children:"Mrs. Dennis Schulist"}),Object(a.jsx)("option",{value:"7",children:"Kurtis Weissnat"}),Object(a.jsx)("option",{value:"8",children:"Nicholas Runolfsdottir V"}),Object(a.jsx)("option",{value:"9",children:"Glenna Reichert"}),Object(a.jsx)("option",{value:"10",children:"Leanne Graham"})]})]})}),Object(a.jsxs)("main",{className:"App__main",children:[Object(a.jsx)("div",{className:"App__sidebar",children:Object(a.jsx)(r,{posts:c,loadPost:function(t){(null===b||void 0===b?void 0:b.id)!==t?function(e){return fetch("".concat(l,"/posts/").concat(e)).then((function(e){return e.json()})).then((function(e){return e}))}(t).then((function(e){return m(e)})):m(e)},selectedPostId:b.id})}),Object(a.jsx)("div",{className:"App__content",children:b.id?Object(a.jsx)(j,{post:b}):"No selected post"})]})]})};s.a.render(Object(a.jsx)(d,{}),document.getElementById("root"))}],[[15,1,2]]]);
//# sourceMappingURL=main.453906ae.chunk.js.map